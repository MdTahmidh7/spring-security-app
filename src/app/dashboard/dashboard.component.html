@if (allUsers.length > 0){
  <div class="overflow-x-auto mt-10 mb-10 " style="width: 65vw; margin-left: auto; margin-right: auto">
    <table class="table w-full table-zebra">
      <!-- Table Head -->
      <thead>
      <tr class="bg-base-200">
        <th>ID</th>
        <th>Name</th>
        <th>Action</th> <!-- New Action Column -->
      </tr>
      </thead>
      <!-- Table Body -->
      <tbody>
      <tr class="hover:bg-base-200" *ngFor="let user of allUsers">
        <td>{{ user.email }}</td>
        <td>{{ user.username }}</td>
        <td>
          <!-- Action Buttons -->
          <button class="btn" (click)="editUser(user)">Edit</button>
          <!--<button class="btn btn-sm btn-error" (click)="deleteUser(user)">Delete</button>-->
        </td>
      </tr>
      </tbody>
    </table>
  </div>
}

<!--<dialog id="my_modal_1" class="modal">
  <div class="modal-box">
    <h3 class="text-lg font-bold">Hello!</h3>
    <p class="py-4">Press ESC key or click the button below to close</p>
    <div class="modal-action">
      <form method="dialog">
        &lt;!&ndash; if there is a button in form, it will close the modal &ndash;&gt;
        <button class="btn">Close</button>
      </form>
    </div>
  </div>
</dialog>-->

<dialog id="my_modal_1" class="modal">
  <div class="modal-box">
    <h2 class="text-lg font-bold text-center">Edit User Information</h2>
    <form [formGroup]="editForm" (ngSubmit)="saveUser()">
      <div class="d-flex gap-3 mt-3">
        <label class="label col-2">
          <span class="label-text">Email</span>
        </label>
        <!-- Bind the email input to the form control -->
        <input type="email" formControlName="email" class="input input-bordered col-8" />
        <div *ngIf="editForm.get('email')?.invalid && editForm.get('email')?.touched">
          <small class="text-red-500">Please enter a valid email.</small>
        </div>
      </div>
      <div class="d-flex gap-3 mt-3">
        <label class="label col-2">
          <span class="label-text">Username</span>
        </label>
        <!-- Bind the username input to the form control -->
        <input type="text" formControlName="username" class="input input-bordered col-8" />
        <div *ngIf="editForm.get('username')?.invalid && editForm.get('username')?.touched">
          <small class="text-red-500">Username is required.</small>
        </div>
      </div>
      <div class="modal-action">
        <button type="submit" class="btn" [disabled]="editForm.invalid">Save</button>
        <button type="button" class="btn" (click)="closeModal()">Close</button>
      </div>
    </form>
  </div>
</dialog>
